# 開発ワークフロー

## 機能追加及び改修時に必ず実施すること

### 作業開始時

-   必ず作業用ブランチを作成する。命名規則は**ブランチ名のルール**に従う。
-   いかなる変更も main ブランチに直接コミットしない

### 基本的な作業の流れ

1. **厳格なコード品質チェック**を実行し、すべて成功することを確認（結果は ./logs/code_check_yyyyMMddHHmm.md に出力）
    - 型チェック（TypeScript/Python 型ヒント）
    - 構文エラーチェック
    - null / undefined チェック
    - 配列の範囲外アクセスの可能性
    - 無限ループの可能性
    - 無効な再帰
    - パス／ファイル存在確認
    - 非同期処理の漏れ（Promise 未処理、async/await 不整合）
    - スペルチェック（変数名、コメント、文字列リテラル）
    - リント・フォーマットチェック
    - ビルドが正常終了
2. 作業内容をコミット。メッセージは Conventional Commits 形式に従うこと（feat:, fix:, docs:, refactor:, test: など）
3. 修正内容を確認、問題なければ以降の作業を開始する旨をユーザに通知する
4. リモートブランチに push (`git push -u origin <ブランチ名>`)
5. プルリクエスト 作成（PR）。規則は**プルリクエスト作成時のルール**に従う。

## ブランチ名のルール

-   **Issue 対応の場合**: `feature/issue-[issue番号]` の形式を使用すること
    -   例: `feature/issue-1`, `feature/issue-123`
-   **通常の機能追加**: `feature/[機能名]` の形式を使用すること
    -   例: `feature/search-optimization`, `feature/export-csv`
-   **バグ修正**: `fix/[修正内容]` の形式を使用すること
    -   例: `fix/search-performance`, `fix/memory-leak`
-   **ドキュメント更新**: `docs/[更新内容]` の形式を使用すること
    -   例: `docs/readme-update`, `docs/api-spec`

## プルリクエスト作成時のルール

-   **Issue 対応の場合**: プルリクエストのタイトルに `#[issue番号]` を含めること
    -   例: `feat: ファイルプレビュー機能を追加 #7`
    -   例: `fix: 検索バグを修正 #15`
-   **生成ツール名の取り扱い**: プルリクエスト本文には生成ツール名を記載しない。

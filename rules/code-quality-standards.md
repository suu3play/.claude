# コード品質基準

## 開発方針

- 初回実装時には必ずテストを含めること
- 新規プロジェクト作成時に.gitignoreファイルを自動生成
- 新規プロジェクト作成時のみ、適切なREADME.mdを作成
- TODOリストを作成し、開発計画と進捗を記述
- 差分は最小限にとどめ、無関係な修正を含めない
- パフォーマンス、可読性、スケーラビリティを常に意識
- 関数は小さく、単一責任の原則に従う
- 既存の実装パターンや設計に準拠
- 変数名・関数名は意図が明確に伝わるように命名
- 適切なコメントを記述（ただし、自明な内容は避ける）

## 言語別コーディング規約

- **Python**: 型ヒント必須、最大行長88文字以内
- **C#**: 明示的型宣言推奨、XMLドキュメントコメント記述
- **TypeScript**: 厳密な型定義、ESLint・Prettier設定に従う
- **JavaScript**: 可能な限りTypeScript使用を推奨

### Python固有の要件

- **インデント検証必須**: コード修正後は必ず構文チェックを実行
- インデントエラーは実行時まで検出されないため、編集完了時の検証を徹底
- 一貫したインデント（4スペース）を維持し、タブとスペースの混在を禁止

### C#固有の要件

- **.NETバージョン**: 最新のLTSバージョン（.NET 8以降）
- **nullable参照型**: 必ず有効にし、null安全性を確保
- **依存性注入**: Microsoft.Extensions.DependencyInjectionを活用
- **非同期処理**: I/O集約的な処理では必ずasync/awaitパターンを使用
- **パフォーマンス**: メモリ効率とガベージコレクションを考慮

### React×TypeScript固有の要件

- **プロジェクト構築**: 指定がない限りViteで構築
- **型安全性**: Props・State・イベントハンドラーに必ず型定義
- **コンポーネント設計**: 関数コンポーネントとフック基本、クラスコンポーネント不使用
- **状態管理**: ローカル状態はuseState・useReducer、グローバル状態はContext API
- **パフォーマンス最適化**: React.memo、useMemo、useCallbackを適切に使用
- **ESLint設定**: eslint-plugin-react、eslint-plugin-react-hooks、eslint-plugin-jsx-a11yを導入
- **コンポーネント構成**: 単一責任の原則、小さく再利用可能なコンポーネント
- **テスト**: Vitest + React Testing Libraryを使用

## セキュリティ要件

- 入力検証（ユーザー入力は必ず検証・サニタイズ）
- XSS対策（dangerouslySetInnerHTML最小限、使用時はサニタイズ）
- 依存関係（定期的に脆弱性チェック）
- 環境変数（機密情報は環境変数で管理、リポジトリにコミット禁止）
- HTTPS（本番環境では必須）

## アクセシビリティ要件

- セマンティックHTML（適切なHTML要素を使用）
- キーボード操作（すべての機能がキーボードで操作可能）
- ARIA属性（必要に応じて適切に付与）
- コントラスト（WCAG 2.1 AAレベル以上）
- スクリーンリーダー（重要な情報は読み上げ可能に）

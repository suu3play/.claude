# スキルテンプレート集

このファイルには、よく使われるスキルパターンのテンプレートを記載しています。

## 基本テンプレート

```yaml
---
name: skill-name
description: スキルの機能と使用タイミングを具体的に記述
---

# スキルタイトル

スキルの概要説明

## 使用タイミング

- 条件1
- 条件2

## 実行フロー

### ステップ1: タイトル

詳細な手順

### ステップ2: タイトル

詳細な手順

## 注意事項

- 注意点1
- 注意点2
```

## 読み取り専用スキルテンプレート

ファイルを読み取るだけのスキル（セキュリティ重視）

```yaml
---
name: file-analyzer
description: 指定されたファイルの内容を分析し、統計情報やパターンを抽出。ファイル分析や内容調査が必要な時に使用
allowed-tools: Read, Grep, Glob
---

# ファイル分析スキル

このスキルは指定されたファイルを読み取り、以下の情報を提供します。

## 使用タイミング

- ファイルの内容を分析したい時
- コードの統計情報が必要な時
- パターン検索が必要な時

## 実行フロー

### ステップ1: ファイルの特定

- Globツールでファイルパターンにマッチするファイルを検索
- ユーザーに対象ファイルを確認

### ステップ2: 内容の読み取り

- Readツールでファイル内容を読み込み
- 必要に応じてGrepで特定パターンを検索

### ステップ3: 分析結果の提示

- 統計情報をまとめて表示
- パターンマッチ結果を整理

## 注意事項

- 大きなファイルは段階的に読み込みます
- ファイルへの書き込みは行いません
```

## コード生成・修正スキルテンプレート

コードを生成または修正するスキル

```yaml
---
name: code-generator
description: 指定された要件に基づいてコードを生成または既存コードを修正。コード生成や自動修正が必要な時に使用
---

# コード生成スキル

このスキルは要件に基づいてコードを生成または修正します。

## 使用タイミング

- 新しいコンポーネントやモジュールを作成したい時
- 既存コードをパターンに従って修正したい時
- ボイラープレートコードを生成したい時

## 実行フロー

### ステップ1: 要件の確認

- ユーザーから生成したいコードの要件を収集
- 既存のコードパターンやスタイルガイドを確認

### ステップ2: コードの生成または読み込み

- 新規作成の場合: テンプレートから生成
- 修正の場合: Readで既存コードを読み込み

### ステップ3: コードの作成・修正

- 要件に基づいてコードを生成
- Writeで新規ファイル作成、またはEditで既存ファイル修正

### ステップ4: 検証

- 構文チェック（該当する場合）
- リントチェック（該当する場合）
- ユーザーに確認を求める

## 注意事項

- 既存ファイルを修正する前に必ず内容を確認します
- 生成したコードはレビューしてから使用してください
```

## テスト実行スキルテンプレート

テストを実行して結果を分析するスキル

```yaml
---
name: test-runner
description: プロジェクトのテストを実行し、失敗したテストのエラー詳細を分析。失敗原因を特定して修正候補を提案。テスト実行やテスト失敗の調査が必要な時に使用
---

# テスト実行スキル

このスキルはプロジェクトのテストを実行し、結果を分析します。

## 使用タイミング

- テストを実行したい時
- テスト失敗の原因を調査したい時
- テストカバレッジを確認したい時

## 実行フロー

### ステップ1: テスト環境の確認

- プロジェクトタイプを判定（npm, pytest, cargo, etc.）
- テストコマンドを特定

### ステップ2: テストの実行

- Bashツールでテストコマンドを実行
- 実行結果を収集

### ステップ3: 結果の分析

- 成功したテスト数をカウント
- 失敗したテストの詳細を抽出
- エラーメッセージを分析

### ステップ4: 修正提案

- 失敗原因を特定
- 修正候補を提案
- 関連するコードファイルを特定

## 注意事項

- テスト実行前に依存関係がインストールされているか確認します
- 長時間かかるテストの場合はバックグラウンド実行を検討します
```

## エラー分析スキルテンプレート

ビルドエラーやLintエラーを分析するスキル

```yaml
---
name: error-analyzer
description: プロジェクトのビルドエラーやLintエラーを分析し、エラーの種類ごとに分類して修正計画を作成。修正計画をMarkdownファイルに出力し、必要に応じてGitHub Issueに登録。ビルドエラー分析や修正計画作成が必要な時に使用
---

# エラー分析スキル

このスキルはプロジェクトのエラーを分析し、修正計画を作成します。

## 使用タイミング

- ビルドエラーが多数発生している時
- Lintエラーを一括で修正したい時
- エラー修正の優先順位を決めたい時

## 実行フロー

### ステップ1: エラーの収集

- プロジェクトタイプを判定
- 適切なチェックコマンドを実行（tsc, eslint, flutter analyze, etc.）
- エラー情報を収集

### ステップ2: エラーの分類

- エラーの種類ごとにグループ化
- 重要度を判定（エラー > 警告 > 情報）
- 修正の難易度を推定

### ステップ3: 修正計画の作成

- 優先度順にエラーをソート
- 各エラーの修正方法を提案
- Markdownファイルとして出力

### ステップ4: Issue登録（オプション）

- ユーザーに確認
- GitHub Issueとして登録
- 適切なラベルを設定

## 注意事項

- エラー収集には時間がかかる場合があります
- 修正計画はレビューしてから実行してください
```

## ドキュメント生成スキルテンプレート

コードからドキュメントを生成するスキル

```yaml
---
name: doc-generator
description: ソースコードからAPIドキュメントやREADMEを自動生成。関数の説明、型定義、使用例を抽出してMarkdown形式で出力。ドキュメント作成や更新が必要な時に使用
allowed-tools: Read, Glob, Grep, Write
---

# ドキュメント生成スキル

このスキルはソースコードからドキュメントを自動生成します。

## 使用タイミング

- API仕様書を作成したい時
- READMEを自動生成したい時
- コードの説明を抽出したい時

## 実行フロー

### ステップ1: 対象ファイルの特定

- Globで対象ファイルを検索
- ドキュメント化するコンポーネントを特定

### ステップ2: コードの解析

- Readで各ファイルの内容を読み込み
- JSDoc、docstring、コメントを抽出
- 関数シグネチャや型定義を解析

### ステップ3: ドキュメントの生成

- Markdown形式で整形
- 使用例や注意事項を追加
- 目次を自動生成

### ステップ4: ファイルの出力

- Writeで指定されたパスに保存
- ユーザーに確認を求める

## 注意事項

- 既存のドキュメントがある場合は上書き確認します
- 生成されたドキュメントは必ずレビューしてください
```

## GitHub連携スキルテンプレート

GitHub APIを使用するスキル

```yaml
---
name: github-helper
description: GitHub IssueやPull Requestを作成・更新。Issue一覧の取得、コメント追加、ラベル管理などのGitHub操作が必要な時に使用
---

# GitHub連携スキル

このスキルはGitHub APIを使用してIssueやPRを操作します。

## 使用タイミング

- Issueを作成したい時
- PRのステータスを確認したい時
- ラベルやアサインを管理したい時

## 実行フロー

### ステップ1: リポジトリ情報の取得

- カレントディレクトリがGitリポジトリか確認
- リモートURLからowner/repoを抽出

### ステップ2: GitHub操作の実行

- Bashツールでgh CLIコマンドを実行
- 必要に応じて認証を確認

### ステップ3: 結果の確認

- 操作結果を解析
- ユーザーに結果を報告
- 関連するURLを提供

## 注意事項

- gh CLIがインストールされている必要があります
- 認証が必要な操作の場合は事前にログインしてください
```

## プロジェクト横断スキルテンプレート

複数のプロジェクトを対象とするスキル

```yaml
---
name: multi-project-tool
description: 複数のプロジェクトに対して一括操作を実行。依存関係の更新、統一的なコード修正、レポート生成など複数プロジェクトの管理が必要な時に使用
---

# プロジェクト横断ツール

このスキルは複数のプロジェクトに対して操作を実行します。

## 使用タイミング

- 複数プロジェクトの依存関係を更新したい時
- 統一的なコード修正を適用したい時
- 全プロジェクトのステータスを確認したい時

## 実行フロー

### ステップ1: プロジェクト一覧の取得

- 指定されたディレクトリ配下のプロジェクトを検出
- プロジェクトタイプを判定

### ステップ2: 各プロジェクトでの操作

- 対象プロジェクトをループ処理
- 各プロジェクトで指定された操作を実行
- 結果を収集

### ステップ3: 結果のまとめ

- 成功/失敗をカウント
- エラーがあった場合は詳細を記録
- サマリーレポートを生成

## 注意事項

- 各プロジェクトの状態を確認してから操作します
- 変更が大きい場合は個別にコミットすることを推奨します
```

## テンプレート選択ガイド

スキルの目的に応じて適切なテンプレートを選択してください:

| スキルの目的 | 推奨テンプレート | allowed-tools設定 |
|-------------|-----------------|-------------------|
| ファイル分析・調査のみ | 読み取り専用テンプレート | Read, Grep, Glob |
| コード生成・修正 | コード生成・修正テンプレート | 制限なし |
| テスト実行・分析 | テスト実行テンプレート | 制限なし |
| エラー分析・修正計画 | エラー分析テンプレート | 制限なし |
| ドキュメント生成 | ドキュメント生成テンプレート | Read, Glob, Grep, Write |
| GitHub操作 | GitHub連携テンプレート | Bash（gh CLI） |
| 複数プロジェクト管理 | プロジェクト横断テンプレート | 制限なし |

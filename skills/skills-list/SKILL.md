---
name: skills-list
description: 現在利用可能なスキル一覧を表示するスキル。ユーザーが「スキル一覧」「どんなスキルがある?」「使えるスキルを確認」と依頼した時に使用。プロジェクトスキルと個人用スキルの両方をカテゴリ別に整理して表示する
allowed-tools: Bash, Read, Glob
---

# Skills List - スキル一覧表示

このスキルは、現在利用可能なすべてのスキルを一覧表示します。

## 使用タイミング

- 「スキル一覧を見せて」と依頼された時
- 「どんなスキルが使える?」と聞かれた時
- 「使えるスキルを確認したい」と言われた時
- 「利用可能なスキル一覧」を表示したい時

## 実行フロー

### ステップ1: スキルディレクトリの検索

プロジェクトスキルと個人用スキルの両方を検索します。

```bash
# プロジェクトスキル(.claude/skills/)
find .claude/skills -maxdepth 2 -name "SKILL.md" -type f

# 個人用スキル(~/.claude/skills/)
find ~/.claude/skills -maxdepth 2 -name "SKILL.md" -type f 2>/dev/null || true
```

### ステップ2: 各スキルのメタデータ読み込み

各`SKILL.md`ファイルから以下の情報を抽出:
- `name`: スキル名
- `description`: スキルの説明

YAMLフロントマターから以下のように読み取ります:

```bash
# スキル名取得
grep "^name:" SKILL.md | sed 's/name: //'

# 説明取得
grep "^description:" SKILL.md | sed 's/description: //'
```

### ステップ3: カテゴリ別に整理

スキルを以下のカテゴリに分類:

1. **開発ワークフロー系**
   - PR作成、ブランチ管理、バージョン管理など

2. **Issue管理系**
   - Issue作成、Issue対応、分析結果からIssue作成など

3. **コード品質系**
   - コード分析、リファクタリング提案など

4. **スキル管理系**
   - スキル作成、スキル一覧表示など

5. **その他**
   - 上記に該当しないスキル

カテゴリは`name`や`description`から自動判定します。

### ステップ4: 一覧表示

以下の形式で表示:

```
## 利用可能なスキル一覧

### 開発ワークフロー系

#### pr-creator
コード品質チェック（型チェック、Lint、ビルド）を実行し、すべて成功した後にコミット・プッシュ・プルリクエストを自動作成するスキル

#### branch-cleaner
ローカルブランチの状況を確認し、コミット済み・mainに反映済みの変更はブランチを自動削除してmainブランチを最新に更新するスキル

### Issue管理系

#### analysis-issue-creator
コード分析結果を基にユーザーと対話しながら適切な粒度と優先度でGitHub Issueを作成するスキル

#### issue-fixer
GitHub Issueの内容を分析して改修計画を自動作成するスキル

...

---

**総スキル数**: 13件
**プロジェクトスキル**: 10件
**個人用スキル**: 3件
```

## 出力フォーマット

### 基本フォーマット

```markdown
## 利用可能なスキル一覧

### [カテゴリ名]

#### [スキル名]
[スキルの説明]

---
**総スキル数**: X件
**プロジェクトスキル**: Y件
**個人用スキル**: Z件
```

### 詳細モードフォーマット（オプション）

ユーザーが「詳細に」「詳しく」と指定した場合:

```markdown
## 利用可能なスキル一覧（詳細）

### [カテゴリ名]

#### [スキル名]
**説明**: [スキルの説明]
**場所**: [プロジェクト/個人]
**パス**: [ファイルパス]
**許可ツール**: [allowed-toolsの内容]

**使用例**:
- [説明から抽出した使用例1]
- [説明から抽出した使用例2]
```

## カテゴリ判定ロジック

スキル名や説明に以下のキーワードが含まれる場合、該当カテゴリに分類:

### 開発ワークフロー系
- キーワード: `pr`, `pull request`, `branch`, `version`, `commit`, `push`, `workflow`

### Issue管理系
- キーワード: `issue`, `good first issue`, `バグレポート`, `改修`

### コード品質系
- キーワード: `code`, `analyzer`, `lint`, `quality`, `refactor`, `分析`

### スキル管理系
- キーワード: `skill`, `スキル作成`, `スキル一覧`

### その他
- 上記に該当しないもの

## エラーハンドリング

### スキルが見つからない場合

```
現在、利用可能なスキルはありません。

スキルを作成するには:
1. `skills-creator`スキルを使用
2. または手動で`.claude/skills/`にスキルを作成
```

### SKILL.mdの読み込み失敗

```
警告: 以下のスキルメタデータの読み込みに失敗しました:
- [スキルパス]: [エラー内容]

正常に読み込めたスキルのみ表示します。
```

## 使用例

### 例1: 基本的な一覧表示

**ユーザー**: スキル一覧を見せて

**スキルの動作**:
1. プロジェクトと個人用スキルを検索
2. メタデータを読み込み
3. カテゴリ別に整理
4. 一覧を表示

### 例2: 詳細表示

**ユーザー**: 使えるスキルを詳しく教えて

**スキルの動作**:
1. 基本動作と同じ
2. 詳細モードフォーマットで表示
3. 許可ツールや使用例も含める

### 例3: カテゴリ指定

**ユーザー**: Issue関連のスキルを教えて

**スキルの動作**:
1. 全スキルを検索
2. Issue管理系カテゴリのみを表示

## 実装の注意点

1. **パス処理**
   - Windowsパスとの互換性を考慮
   - `~/.claude/skills`が存在しない場合もエラーにしない

2. **YAMLパース**
   - 複数行にわたる`description`にも対応
   - フロントマターの開始(`---`)と終了を正確に検出

3. **パフォーマンス**
   - スキル数が多い場合でも高速に動作
   - 不要なファイル読み込みを避ける

4. **ユーザビリティ**
   - カテゴリ別に整理して見やすく
   - スキル数が多い場合は目次を追加

## 拡張機能案

1. **検索機能**: キーワードでスキルを検索
2. **フィルター**: カテゴリやツール別にフィルタ
3. **ソート**: 名前順、カテゴリ順、最終更新日順
4. **統計情報**: 最もよく使われるスキル、ツール使用統計など
5. **依存関係表示**: スキル間の関連性を可視化
